---
layout: initiative
title: Initiatives
permalink: /initiatives/
---

{% assign items = site.data.initiatives | default: [] %}
{% unless items == empty %}
  {% assign items = items | sort: 'title' %}
{% endunless %}

<section id="initiatives">
  <div class="container">

    <div class="row">
      <div class="col-lg-12 text-center">
        <h2>Initiatives</h2>
        <hr class="star-primary">
        <p class="lead" style="margin-top:18px;">
          Programs and projects CSEG runs to support our grad community.
        </p>
      </div>
    </div>

    {% if items == empty %}
      <div class="row">
        <div class="col-lg-10 col-lg-offset-1 text-center">
          <p><em>No initiatives found.</em></p>
          <p style="font-size:14px;color:#6b7280;">
            Looking for <code>_data/initiatives.yml</code>. Make sure it exists and is valid YAML.
          </p>
        </div>
      </div>
    {% else %}

      {% for it in items %}
      <article id="initiative-{{ it.id | default: it.title | slugify }}" class="initiative-block">
        <div class="row">

          <!-- Image -->
          <div class="col-sm-5">
            <div class="thumb-rect">
              <img
                src="{{ '/img/initiatives/' | append: it.img | relative_url }}"
                alt="{{ it.title }}"
                class="img-responsive">
            </div>
          </div>

          <!-- Content -->
          <div class="col-sm-7 text-center">
            <!-- Yellow header bar with centered navy title -->
            <div class="initiative-heading-bar">
              <h3 class="initiative-title">{{ it.title }}</h3>
            </div>

            {% if it.lead %}
              <p class="subheader-text">{{ it.lead }}</p>
            {% endif %}

            {% if it.description %}
              <div class="initiative-description">
                {{ it.description | markdownify }}
              </div>
            {% endif %}

            {% if it.tags or it.owners %}
            <ul class="list-inline meta-list">
              {% if it.tags %}
                <li><strong>Tags:</strong>
                  {% for tag in it.tags %}
                    <span class="tag-chip">{{ tag }}</span>
                  {% endfor %}
                </li>
              {% endif %}
              {% if it.owners %}
                <li><strong>Contacts:</strong>
                  {% for o in it.owners %}
                    <a href="mailto:{% if o.email %}{{ o.email }}{% endif %}">{{ o.name }}</a>{% unless forloop.last %}, {% endunless %}
                  {% endfor %}
                </li>
              {% endif %}
            </ul>
            {% endif %}

            {% if it.links %}
              <div class="initiative-links">
                {% for l in it.links %}
                  <a class="btn btn-primary btn-sm" href="{{ l.url }}" target="_blank" rel="noopener">{{ l.label }}</a>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      </article>
      <hr class="initiative-divider">
      {% endfor %}

    {% endif %}

  </div>
</section>

<style>
  /* Spacing for each block */
  .initiative-block { margin: 55px 0; }

  /* Yellow bar with centered navy title */
  .initiative-heading-bar {
    background-color: #{{ site.primary | default: 'FFCB05' }};
    padding: 14px 18px;
    border-radius: 8px;
    text-align: center;
  }
  .initiative-title {
    margin: 0;
    font-size: 26px;
    font-weight: 700;
    color: #{{ site.secondary | default: '00274C' }}; /* navy */
  }

  /* Subheader below the bar, on white, centered */
  .subheader-text {
    font-size: 16px;
    margin: 14px 0 16px 0; /* extra space below title bar */
    color: #222; /* clearer on white */
    text-align: center;
  }

  /* Description centered and readable */
  .initiative-description {
    font-size: 16px;
    line-height: 1.65;
    color: #222;
    text-align: left;
  }

  /* Meta + links */
  .meta-list { margin-top: 14px; }
  .initiative-links { margin-top: 12px; }
  .initiative-divider { margin: 38px 0; }

  /* Thumbnail (kept neutral/white surrounding area) */
  .thumb-rect {
    width: 100%;
    aspect-ratio: 4 / 3;
    overflow: hidden;
    border-radius: 8px;
    background: #f7f7f7;
  }
  .thumb-rect > img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  @supports not (aspect-ratio: 4 / 3) {
    .thumb-rect { position: relative; }
    .thumb-rect::before { content: ""; display: block; padding-top: 75%; }
    .thumb-rect > img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; }
  }

  /* Pills & chips (unchanged) */
  .status-pill {
    display: inline-block; padding: 3px 10px; font-size: 12px; border-radius: 999px;
    border: 1px solid rgba(0,0,0,0.15);
  }
  .tag-chip {
    display: inline-block; padding: 2px 8px; font-size: 11px; border-radius: 999px;
    background: #f1f5f9; margin-left: 4px;
  }
</style>
